const Discord = require('discord.js');
const bot = new Discord.Client();
const prefix = "."

bot.on("message", (message) => {
    var arg = message.content.split(" ").slice(1).join(" ");
    if(!arg) return;
    if(message.author.bot) return;
    if (!message.member.hasPermission(["EMBED_LINKS"])) return;
    let embed = new Discord.MessageEmbed()
        .setDescription(arg)
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}normal`)) {
        message.channel.send(embed)
    }
});
bot.on("message", (message) => {
    var arg = message.content.split(" ").slice(1).join(" ");
    if(!arg) return;
    if(message.author.bot) return;
    if (!message.member.hasPermission(["EMBED_LINKS"])) return;
    if (!message.member.hasPermission(["MENTION_EVERYONE"])) return;
    let embed = new Discord.MessageEmbed()
        .setDescription(arg)
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}here`)) {
        message.channel.send('@here', embed)
    }
});
bot.on("message", (message) => {
    var arg = message.content.split(" ").slice(1).join(" ");
    if(!arg) return;
    if(message.author.bot) return;
    if (!message.member.hasPermission(["EMBED_LINKS"])) return;
    if (!message.member.hasPermission(["MENTION_EVERYONE"])) return;
    let embed = new Discord.MessageEmbed()
        .setDescription(arg)
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}everyone`)) {
        message.channel.send('@everyone', embed)
    }
});
bot.on("message", (message) => {
    if(message.author.bot) return;
    const embed = new Discord.MessageEmbed()
        .setTitle('Showing command list.')
        .addField('.normal', '*Description:* Generates a normal embed, without pings. Requires the permission **EMBED_LINKS**.')
        .addField('.here', '*Description:* Generates a normal embed, with the @here ping. Requires the permission **EMBED_LINKS** and **MENTION_EVERYONE**.')
        .addField('.everyone', '*Description:* Generates a normal embed, with the @everyone ping. Requires the permission **EMBED_LINKS** and **MENTION_EVERYONE**.')
        .addField('.help', '*Description:* The command you just ran now to see this embed..')
        .addField('.invite', '*Description:* Gives an invite link to the bot.')
        .addField('.<command>', 'Yep, more commands will be added, and this command line isn\'t an actual command, okay?')
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}help`)) {
        message.channel.send(embed)
    }
});
bot.on("message", (message) => {
    if(message.author.bot) return;
    const embed = new Discord.MessageEmbed()
        .addField('BOT invite link:', 'https://discord.com/api/oauth2/authorize?client_id=750968965613879349&permissions=257024&scope=bot')
        .addField('Official discord server link:', 'https://discord.gg/q8ZjH4V')
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}invite`)) {
        message.channel.send(embed)
    }
});
bot.on("message", (message) => {
    var arg = message.content.split(" ").slice(1).join(" ");
    if(!arg) return;
    if(message.author.bot) return;
    if (!message.member.hasPermission(["EMBED_LINKS"])) return;
    let embed = new Discord.MessageEmbed()
        .setDescription('Found a bug? And don\'t know where to report it? Join our official server to report bugs! You can find the invite link in the command **.invite**!')
        .setColor("RANDOM")
        .setFooter(`Generated by ${message.author.username}.`)
    if(message.content.includes(`${prefix}report`)) {
        message.channel.send(embed)
    }
});

bot.login(process.env.token)